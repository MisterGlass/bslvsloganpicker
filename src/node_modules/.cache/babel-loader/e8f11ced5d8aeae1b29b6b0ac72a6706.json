{"ast":null,"code":"var _jsxFileName = \"/srv/app/sloganpicker/src/App.js\";\nimport React from 'react'; //import ReactDOM from 'react-dom';\n\nimport GoogleLogin from 'react-google-login';\nimport GoogleLogout from 'react-google-login';\nimport axios from 'axios';\nimport './App.css';\nimport slogans from './sloganlist.json';\n\nfunction Slogan(props) {\n  return React.createElement(\"div\", {\n    className: \"slogan\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, props.text), React.createElement(\"button\", {\n    className: \"favbtn\",\n    onClick: props.favslogan,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, \"Favorite\"), React.createElement(\"button\", {\n    className: \"hidebtn\",\n    onClick: function () {\n      alert('click');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, \"Hide\"));\n}\n\nfunction Favorite(props) {\n  return React.createElement(\"div\", {\n    className: \"slogan\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, props.text), React.createElement(\"button\", {\n    className: \"unfavbtn\",\n    onClick: props.unfavslogan,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Remove\"));\n}\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = () => {\n      this.setState({\n        user: null\n      });\n    };\n\n    this.responseGoogle = response => {\n      if (response.profileObj.email.split('@')[1] === 'bsideslv.org') {\n        this.setState({\n          user: response.profileObj\n        });\n      } else {\n        alert('Login unsucesful, please login with your bsideslv google account');\n      }\n\n      ;\n    };\n\n    this.submitVote = () => {\n      var actionurl = \"https://docs.google.com/forms/d/e/1FAIpQLSfoltL6Tpy9O3C-egmhu4sgyW8QKqC1oYQvaL5mmmpOjj-GbA/formResponse\";\n      var usernamefield = \"entry.1281984272\";\n      var jsonfield = \"entry.1106511397\";\n      var corsproxy = 'https://cors-anywhere.herokuapp.com/';\n      var favids = this.state.favorites.map(slogan => {\n        return slogan.id;\n      });\n      console.log(JSON.stringify(favids));\n      const formData = new FormData();\n      formData.append(usernamefield, this.state.user.email);\n      formData.append(jsonfield, JSON.stringify(favids));\n      axios.post(corsproxy + actionurl, formData).then(() => {\n        this.setState({\n          message: '',\n          email: ''\n        });\n      }).catch(() => {\n        this.setState({\n          messageError: true\n        });\n      });\n    };\n\n    this.state = {\n      favorites: [],\n      user: null\n    };\n  }\n\n  favSlogan(key, slogan) {\n    const favorites = this.state.favorites.slice();\n    favorites.push(slogan);\n    this.setState({\n      favorites: favorites\n    });\n  }\n\n  unfavSlogan(key, slogan) {\n    const favorites = this.state.favorites.slice();\n\n    for (var i = 0; i < favorites.length; i++) {\n      if (favorites[i].id = slogan.id) {\n        favorites.splice(i, 1);\n        break;\n      }\n    }\n\n    this.setState({\n      favorites: favorites\n    });\n  }\n\n  renderSlogan(key, slogan) {\n    return React.createElement(Slogan, {\n      key: key,\n      text: slogan.slogan,\n      favslogan: () => this.favSlogan(key, slogan),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    });\n  }\n\n  renderFavorite(key, slogan) {\n    return React.createElement(Favorite, {\n      key: key,\n      text: slogan.slogan,\n      unfavslogan: () => this.unfavSlogan(key, slogan),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    if (this.state.user == null) {\n      return React.createElement(GoogleLogin, {\n        clientId: \"693738722966-m2uhbrdhrsb1el7u0uiomj1lmov1bbrr.apps.googleusercontent.com\",\n        buttonText: \"Login\",\n        onSuccess: this.responseGoogle,\n        onFailure: this.responseGoogle,\n        cookiePolicy: 'single_host_origin',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"slogans\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, slogans.map((slogan, i) => {\n        return this.renderSlogan(i, slogan);\n      })), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"favorites\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, this.state.favorites.map((slogan, i) => {\n        return this.renderFavorite(i, slogan);\n      }), React.createElement(\"button\", {\n        className: \"submitbtn\",\n        onClick: this.submitVote,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Submit\")));\n    }\n  }\n\n}\n\nfunction App() {\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, React.createElement(Main, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/srv/app/sloganpicker/src/App.js"],"names":["React","GoogleLogin","GoogleLogout","axios","slogans","Slogan","props","text","favslogan","alert","Favorite","unfavslogan","Main","Component","constructor","logout","setState","user","responseGoogle","response","profileObj","email","split","submitVote","actionurl","usernamefield","jsonfield","corsproxy","favids","state","favorites","map","slogan","id","console","log","JSON","stringify","formData","FormData","append","post","then","message","catch","messageError","favSlogan","key","slice","push","unfavSlogan","i","length","splice","renderSlogan","renderFavorite","render","App"],"mappings":"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","sourcesContent":["import React from 'react';\n//import ReactDOM from 'react-dom';\nimport GoogleLogin from 'react-google-login';\nimport GoogleLogout from 'react-google-login';\nimport axios from 'axios';\nimport './App.css';\n\nimport slogans from './sloganlist.json';\n\nfunction Slogan(props) {\n    return (\n        <div className=\"slogan\">\n            <p>{props.text}</p>\n            <button className=\"favbtn\" onClick={props.favslogan}>\n                Favorite\n            </button>\n            <button className=\"hidebtn\" onClick={function() { alert('click'); }}>\n                Hide\n            </button>\n        </div>\n    );\n}\n\nfunction Favorite(props) {\n    return (\n        <div className=\"slogan\">\n            <p>{props.text}</p>\n            <button className=\"unfavbtn\" onClick={props.unfavslogan}>\n                Remove\n            </button>\n        </div>\n    );\n}\n\nclass Main extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            favorites: [],\n            user: null,\n        };\n    }\n\n    favSlogan(key, slogan) {\n        const favorites = this.state.favorites.slice();\n        favorites.push(slogan);\n        this.setState({favorites: favorites});\n    }\n\n    unfavSlogan(key, slogan) {\n        const favorites = this.state.favorites.slice();\n        for (var i = 0; i < favorites.length; i++) { \n            if (favorites[i].id = slogan.id) {\n                favorites.splice(i, 1);\n                break;\n            }\n        }\n        this.setState({favorites: favorites});\n    }\n\n    renderSlogan(key, slogan) {\n        return (\n            <Slogan key={key} text={slogan.slogan} favslogan={() => this.favSlogan(key, slogan)} />\n        )\n    }\n\n    renderFavorite(key, slogan) {\n        return (\n            <Favorite key={key} text={slogan.slogan} unfavslogan={() => this.unfavSlogan(key, slogan)} />\n        )\n    }\n\n    logout = () => {\n        this.setState({user: null});\n    }\n\n    responseGoogle = (response) => {\n        if (response.profileObj.email.split('@')[1] === 'bsideslv.org') {\n            this.setState({user: response.profileObj});\n        } else {\n            alert('Login unsucesful, please login with your bsideslv google account');\n        };\n    }\n\n    submitVote = () => {\n        var actionurl = \"https://docs.google.com/forms/d/e/1FAIpQLSfoltL6Tpy9O3C-egmhu4sgyW8QKqC1oYQvaL5mmmpOjj-GbA/formResponse\";\n        var usernamefield = \"entry.1281984272\";\n        var jsonfield = \"entry.1106511397\";\n        var corsproxy = 'https://cors-anywhere.herokuapp.com/';\n        var favids = this.state.favorites.map((slogan) => {\n            return slogan.id;\n        });\n        console.log(JSON.stringify(favids));\n\n        const formData = new FormData()\n        formData.append(usernamefield, this.state.user.email)\n        formData.append(jsonfield, JSON.stringify(favids))\n        axios.post(corsproxy + actionurl, formData)\n        .then(() => {\n            this.setState({\n            message: '',\n            email: ''\n            })\n        }).catch(() => {\n            this.setState({\n                messageError: true,\n            })\n        })\n    }\n\n    render() {\n        if(this.state.user == null) {\n            return (\n                <GoogleLogin\n                    clientId=\"693738722966-m2uhbrdhrsb1el7u0uiomj1lmov1bbrr.apps.googleusercontent.com\"\n                    buttonText=\"Login\"\n                    onSuccess={this.responseGoogle}\n                    onFailure={this.responseGoogle}\n                    cookiePolicy={'single_host_origin'}\n                />\n            )\n        } else {\n            return (\n                <div>\n                    <div className=\"slogans\">\n                        {slogans.map((slogan, i) => {\n                            return this.renderSlogan(i, slogan);\n                        })}\n                    </div>\n                    <hr />\n                    <div className=\"favorites\">\n                        {this.state.favorites.map((slogan, i) => {\n                            return this.renderFavorite(i, slogan);\n                        })}\n                        <button className=\"submitbtn\" onClick={this.submitVote}>\n                            Submit\n                        </button>\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <Main />\n        </div>\n    )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}